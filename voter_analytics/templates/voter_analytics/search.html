
<h2>Filter Voters</h2>
<div id="search-container">
    <form action="{% url 'voters' %}" method="GET">
        <table id="search-table">
            <tr>
                <th>Party Affiliation:</th>
                <td><select id="search-input" name="party">
                    <option value="">All Parties</option>
                    <option value="R" {% if request.GET.party == "R" %}selected{% endif %}>Republican (R)</option>
                    <option value="D" {% if request.GET.party == "D" %}selected{% endif %}>Democrat (D)</option>
                    <option value="U" {% if request.GET.party == "U" %}selected{% endif %}>Unenrolled (U)</option>
                </select></td>
            </tr>
            <tr>
                <th>Min Date of Birth:</th>
                <td>
                    <select id="search-input" name="min_year">
                        <option value="">Select Year</option>
                        {% for year in ""|ljust:"85" %}
                            <option value="{{ forloop.counter|add:1919 }}" 
                                {% if request.GET.min_year == forloop.counter|add:1919|stringformat:"i" %}selected{% endif %}>
                                {{ forloop.counter|add:1919 }}
                            </option>
                        {% endfor %}
                    </select>
                </td>
            </tr>
            <tr>
                <th>Max Date of Birth:</th>
                <td>
                    <select id="search-input" name="max_year">
                        <option value="">Select Year</option>
                        {% for year in ""|ljust:"85" %}
                            <option value="{{ forloop.counter|add:1919 }}"
                                {% if request.GET.max_year == forloop.counter|add:1919|stringformat:"i" %}selected{% endif %}>
                                {{ forloop.counter|add:1919 }}
                            </option>
                        {% endfor %}
                    </select>
                </td>
            </tr>
            <tr>
                <th>Voter Score:</th>
                <td><select id="search-input" name="voter_score">
                    <option value="">Select Score</option>
                    {% for score in "012345" %}
                        <option value="{{ score }}" {% if request.GET.voter_score == score %}selected{% endif %}>
                            {{ score }}
                        </option>
                    {% endfor %}
                </select></td>
            </tr>
            <tr>
                <th>Voted in Elections:</th>
                <td>
                    <input type="checkbox" id="v20state" name="v20state" {% if request.GET.v20state %}checked{% endif %}> 2020 State<br>
                    <input type="checkbox" id="v21town" name="v21town" {% if request.GET.v21town %}checked{% endif %}> 2021 Town<br>
                    <input type="checkbox" id="v21primary" name="v21primary" {% if request.GET.v21primary %}checked{% endif %}> 2021 Primary<br>
                    <input type="checkbox" id="v23town" name="v23town" {% if request.GET.v23town %}checked{% endif %}> 2023 Town
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <input type="submit" id="search-button" value="Search">
                    <a href="{% url 'voters' %}" class="reset-button">Reset Filters</a>
                </td>
            </tr>
        </table>
    </form>
</div>


