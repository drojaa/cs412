<!-- 
Author: Derinell Rojas
Email: droja@bu.edu 
Date: 2025-05-01
Description: template of form to show all clothing items for closet project
-->
{% extends 'project/base.html' %}

{% block content %}
<header>
    <h1 id="header-name">My Closet</h1>
</header>

<!-- Add Item button -->
<div class="add-item-container">
    <a href="{% url 'create_clothing' %}" class="add-item-button">
        <span class="plus-icon">+</span>
        <span class="button-text">Add Item</span>
    </a>
</div>

<!-- Filter dropdown with server-side filtering -->
<div class="filter-container">
    <form method="get" action="{% url 'show_all_clothing_items' %}">
        <label for="type">Filter by:</label>
        <select id="type" name="type">
            <option value="all" {% if request.GET.type == 'all' or not request.GET.type %}selected{% endif %}>All Items</option>
            <option value="top" {% if request.GET.type == 'top' %}selected{% endif %}>Tops</option>
            <option value="bottom" {% if request.GET.type == 'bottom' %}selected{% endif %}>Bottoms</option>
            <option value="dresses" {% if request.GET.type == 'dresses' %}selected{% endif %}>Dresses</option>
            <option value="shoes" {% if request.GET.type == 'shoes' %}selected{% endif %}>Shoes</option>
            <option value="accessory" {% if request.GET.type == 'accessory' %}selected{% endif %}>Accessories</option>
            <option value="outerwear" {% if request.GET.type == 'outerwear' %}selected{% endif %}>Outerwear</option>
        </select>
        <button type="submit" class="filter-button">Apply Filter</button>
    </form>
</div>

<div class="clothing-container" id="clothing-container">
    {% for item in clothing %}
        <div class="clothing-card" data-type="{{ item.type }}">
            <!-- Clothing Image -->
            {% if item.image %}
                <img src="{{ item.image.url }}" alt="{{ item.name }}" class="clothing-image">
            {% else %}
                <div class="no-image">No Image</div>
            {% endif %}
            
            <!-- Clothing Details -->
            <div class="clothing-details">
                <p id="name">{{ item.name }}</p>
                <p class="item-type">{{ item.get_type_display }}</p>
            </div>
        </div>
    {% empty %}
        <div class="empty-closet">
            <p>Your closet is empty. Add some clothing items to get started!</p>
        </div>
    {% endfor %}
</div>



{% endblock %}
